"use strict";(globalThis.webpackChunkiowarp_site=globalThis.webpackChunkiowarp_site||[]).push([[4412],{425:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"sdk/context_assimilation","title":"Context Assimilation SDK","description":"Overview","source":"@site/docs/sdk/4.context_assimilation.md","sourceDirName":"sdk","slug":"/sdk/context_assimilation","permalink":"/docs/sdk/context_assimilation","draft":false,"unlisted":false,"editUrl":"https://github.com/iowarp/iowarp.github.io/tree/main/docs/sdk/4.context_assimilation.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Context Transfer SDK","permalink":"/docs/sdk/context_transfer"},"next":{"title":"Context Exploration Engine - Python API Documentation","permalink":"/docs/api/python-api"}}');var i=s(4848),l=s(8453);const t={},d="Context Assimilation SDK",a={},c=[{value:"Overview",id:"overview",level:2},{value:"File Structure",id:"file-structure",level:2},{value:"Top-Level Fields",id:"top-level-fields",level:2},{value:"<code>name</code> (string, required)",id:"name-string-required",level:3},{value:"<code>transfers</code> (array, required)",id:"transfers-array-required",level:3},{value:"Transfer Fields",id:"transfer-fields",level:2},{value:"<code>src</code> (string, required)",id:"src-string-required",level:3},{value:"<code>dst</code> (string, required)",id:"dst-string-required",level:3},{value:"<code>format</code> (string, required)",id:"format-string-required",level:3},{value:"<code>depends_on</code> (string, optional)",id:"depends_on-string-optional",level:3},{value:"<code>range_off</code> (integer, optional)",id:"range_off-integer-optional",level:3},{value:"<code>range_size</code> (integer, optional)",id:"range_size-integer-optional",level:3},{value:"Complete Examples",id:"complete-examples",level:2},{value:"Example 1: Simple Binary File Transfer",id:"example-1-simple-binary-file-transfer",level:3},{value:"Example 2: HDF5 Dataset Transfer",id:"example-2-hdf5-dataset-transfer",level:3},{value:"Example 3: Partial File Transfer with Range",id:"example-3-partial-file-transfer-with-range",level:3},{value:"Example 4: Multiple Transfers with Dependencies",id:"example-4-multiple-transfers-with-dependencies",level:3},{value:"Example 5: Globus Transfer",id:"example-5-globus-transfer",level:3},{value:"Using OMNI Files",id:"using-omni-files",level:2},{value:"Using the wrp_cae_omni Utility",id:"using-the-wrp_cae_omni-utility",level:3},{value:"Prerequisites",id:"prerequisites",level:4},{value:"Basic Usage",id:"basic-usage",level:4},{value:"Complete Workflow",id:"complete-workflow",level:4},{value:"Expected Output",id:"expected-output",level:4},{value:"Command-Line Options",id:"command-line-options",level:4},{value:"Return Codes",id:"return-codes",level:4},{value:"Common Errors",id:"common-errors",level:4},{value:"Loading OMNI Files in C++ Code",id:"loading-omni-files-in-c-code",level:3},{value:"Processing OMNI Files",id:"processing-omni-files",level:3},{value:"URI Scheme Reference",id:"uri-scheme-reference",level:2},{value:"File URIs: <code>file::&lt;path&gt;</code>",id:"file-uris-filepath",level:3},{value:"HDF5 URIs: <code>hdf5://&lt;file_path&gt;:&lt;dataset_path&gt;</code>",id:"hdf5-uris-hdf5file_pathdataset_path",level:3},{value:"Globus URIs: <code>globus://&lt;endpoint_id&gt;/&lt;path&gt;</code>",id:"globus-uris-globusendpoint_idpath",level:3},{value:"IOWarp URIs: <code>iowarp::&lt;tag_name&gt;</code>",id:"iowarp-uris-iowarptag_name",level:3},{value:"Validation Rules",id:"validation-rules",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Future Extensions",id:"future-extensions",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"context-assimilation-sdk",children:"Context Assimilation SDK"})}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"OMNI (Object Migration and Negotiation Interface) is a YAML-based configuration format used by the Content Assimilation Engine (CAE) to describe data transfer operations. An OMNI file specifies one or more data transfers from source locations to destinations, with support for various formats, dependencies, and partial transfers."}),"\n",(0,i.jsx)(n.h2,{id:"file-structure",children:"File Structure"}),"\n",(0,i.jsx)(n.p,{children:"An OMNI file is a YAML document with the following structure:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"name: <job_name>\n\ntransfers:\n  - src: <source_uri>\n    dst: <destination_uri>\n    format: <format_type>\n    depends_on: <dependency>    # optional\n    range_off: <offset>          # optional\n    range_size: <size>           # optional\n  - src: <source_uri_2>\n    dst: <destination_uri_2>\n    format: <format_type_2>\n    # ... more transfers\n"})}),"\n",(0,i.jsx)(n.h2,{id:"top-level-fields",children:"Top-Level Fields"}),"\n",(0,i.jsxs)(n.h3,{id:"name-string-required",children:[(0,i.jsx)(n.code,{children:"name"})," (string, required)"]}),"\n",(0,i.jsx)(n.p,{children:"The name or identifier for this OMNI job. Used for logging and tracking purposes."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"name: terra_satellite_ingest\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"transfers-array-required",children:[(0,i.jsx)(n.code,{children:"transfers"})," (array, required)"]}),"\n",(0,i.jsx)(n.p,{children:"An array of transfer specifications. Each transfer describes a single data movement operation from a source to a destination."}),"\n",(0,i.jsx)(n.h2,{id:"transfer-fields",children:"Transfer Fields"}),"\n",(0,i.jsxs)(n.p,{children:["Each entry in the ",(0,i.jsx)(n.code,{children:"transfers"})," array has the following fields:"]}),"\n",(0,i.jsxs)(n.h3,{id:"src-string-required",children:[(0,i.jsx)(n.code,{children:"src"})," (string, required)"]}),"\n",(0,i.jsx)(n.p,{children:"The source URI specifying where to read data from. The URI format determines the source type and parser."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Supported URI schemes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"file::<path>"})," - Local filesystem"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"hdf5://<path>:<dataset>"})," - HDF5 file and dataset"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"globus://<endpoint_id>/<path>"})," - Globus endpoint"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"s3://<bucket>/<key>"})," - S3 object storage"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"src: file::/data/satellite/TERRA_2024.bin\nsrc: hdf5::/data/climate.h5:/temperature/surface\nsrc: globus://82f1b5c6-6e9b-11e5-ba47-22000b92c6ec/dataset.nc\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"dst-string-required",children:[(0,i.jsx)(n.code,{children:"dst"})," (string, required)"]}),"\n",(0,i.jsxs)(n.p,{children:["The destination URI specifying where to write data. Currently supports the ",(0,i.jsx)(n.code,{children:"iowarp"})," scheme for CTE tag-based storage."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Format:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"iowarp::<tag_name>"})," - Store in CTE with specified tag"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"dst: iowarp::terra_2024_satellite_data\ndst: iowarp::climate_temperature_2024\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"format-string-required",children:[(0,i.jsx)(n.code,{children:"format"})," (string, required)"]}),"\n",(0,i.jsx)(n.p,{children:"The data format type. This determines which assimilator (parser/processor) will handle the data."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Supported formats:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"binary"})," - Raw binary data"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"hdf5"})," - HDF5 hierarchical data format"]}),"\n",(0,i.jsx)(n.li,{children:"Additional formats may be registered via the AssimilatorFactory"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"format: binary\nformat: hdf5\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"depends_on-string-optional",children:[(0,i.jsx)(n.code,{children:"depends_on"})," (string, optional)"]}),"\n",(0,i.jsx)(n.p,{children:"Specifies a dependency on another transfer. The current transfer will only execute after the specified dependency completes successfully."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:'""'})," (empty string, no dependency)"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'depends_on: ""                           # No dependency\ndepends_on: previous_transfer_tag        # Wait for this transfer\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"range_off-integer-optional",children:[(0,i.jsx)(n.code,{children:"range_off"})," (integer, optional)"]}),"\n",(0,i.jsx)(n.p,{children:"Byte offset from the start of the source file. Used for partial file transfers."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"0"})," (start from beginning)"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"range_off: 0           # Start from beginning\nrange_off: 1048576     # Start from 1MB offset\nrange_off: 2097152     # Start from 2MB offset\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"range_size-integer-optional",children:[(0,i.jsx)(n.code,{children:"range_size"})," (integer, optional)"]}),"\n",(0,i.jsxs)(n.p,{children:["Number of bytes to read from the source. When set to ",(0,i.jsx)(n.code,{children:"0"}),", reads the entire file (or remaining portion after ",(0,i.jsx)(n.code,{children:"range_off"}),")."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"0"})," (read entire file)"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"range_size: 0           # Read entire file\nrange_size: 1048576     # Read 1MB\nrange_size: 10485760    # Read 10MB\n"})}),"\n",(0,i.jsx)(n.h2,{id:"complete-examples",children:"Complete Examples"}),"\n",(0,i.jsx)(n.h3,{id:"example-1-simple-binary-file-transfer",children:"Example 1: Simple Binary File Transfer"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"name: simple_binary_transfer\n\ntransfers:\n  - src: file::/tmp/data.bin\n    dst: iowarp::my_binary_data\n    format: binary\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-2-hdf5-dataset-transfer",children:"Example 2: HDF5 Dataset Transfer"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"name: climate_data_ingest\n\ntransfers:\n  - src: hdf5::/data/climate/NOAA_2024.h5:/temperature/surface\n    dst: iowarp::noaa_surface_temp_2024\n    format: hdf5\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-3-partial-file-transfer-with-range",children:"Example 3: Partial File Transfer with Range"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"name: partial_transfer_test\n\ntransfers:\n  - src: file::/large_dataset/file.bin\n    dst: iowarp::chunk_1\n    format: binary\n    range_off: 0\n    range_size: 1048576    # First 1MB\n  - src: file::/large_dataset/file.bin\n    dst: iowarp::chunk_2\n    format: binary\n    range_off: 1048576\n    range_size: 1048576    # Second 1MB\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-4-multiple-transfers-with-dependencies",children:"Example 4: Multiple Transfers with Dependencies"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'name: multi_stage_pipeline\n\ntransfers:\n  - src: file::/raw/input.bin\n    dst: iowarp::stage1_output\n    format: binary\n    depends_on: ""\n  - src: file::/processed/data.bin\n    dst: iowarp::stage2_output\n    format: binary\n    depends_on: stage1_output\n'})}),"\n",(0,i.jsx)(n.h3,{id:"example-5-globus-transfer",children:"Example 5: Globus Transfer"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"name: globus_satellite_data\n\ntransfers:\n  - src: globus://82f1b5c6-6e9b-11e5-ba47-22000b92c6ec/satellite/TERRA_2024.h5\n    dst: iowarp::terra_2024_archive\n    format: hdf5\n"})}),"\n",(0,i.jsx)(n.h2,{id:"using-omni-files",children:"Using OMNI Files"}),"\n",(0,i.jsx)(n.h3,{id:"using-the-wrp_cae_omni-utility",children:"Using the wrp_cae_omni Utility"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"wrp_cae_omni"})," utility is the primary tool for processing OMNI files. It loads the OMNI configuration and schedules assimilation tasks with the CAE runtime."]}),"\n",(0,i.jsx)(n.h4,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Chimaera runtime must be running"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"CAE container must be created"})," using ",(0,i.jsx)(n.code,{children:"chimaera_compose"})," (see ",(0,i.jsx)(n.a,{href:"launch.md",children:"Launch Guide"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"CTE container must be configured"})," for blob storage"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"wrp_cae_omni <omni_file_path>\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"wrp_cae_omni /path/to/transfer_config.yaml\n"})}),"\n",(0,i.jsx)(n.h4,{id:"complete-workflow",children:"Complete Workflow"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# 1. Start runtime\nexport WRP_RUNTIME_CONF=/etc/iowarp/config.yaml\nchimaera_start_runtime &\nsleep 2\n\n# 2. Create CAE container (if not already created)\nchimaera_compose /path/to/cae_config.yaml\n\n# 3. Process OMNI file\nwrp_cae_omni /path/to/omni_file.yaml\n"})}),"\n",(0,i.jsx)(n.h4,{id:"expected-output",children:"Expected Output"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Loading OMNI file: /path/to/omni_file.yaml\n  Loaded transfer 1/2:\n    src: file::/data/input.bin\n    dst: iowarp::my_data_tag\n    format: binary\n  Loaded transfer 2/2:\n    src: hdf5::/data/climate.h5:/temperature\n    dst: iowarp::climate_temp\n    format: hdf5\nSuccessfully loaded 2 transfer(s) from OMNI file\nCalling ParseOmni...\nParseOmni completed successfully!\n  Tasks scheduled: 2\n"})}),"\n",(0,i.jsx)(n.h4,{id:"command-line-options",children:"Command-Line Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"omni_file_path"})}),(0,i.jsx)(n.td,{children:"Path to the OMNI YAML configuration file"})]})})]}),"\n",(0,i.jsx)(n.h4,{id:"return-codes",children:"Return Codes"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Code"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"0"})}),(0,i.jsx)(n.td,{children:"Success - all transfers scheduled"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"1"})}),(0,i.jsx)(n.td,{children:"Error - see stderr for details"})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"common-errors",children:"Common Errors"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:'Error: "Chimaera IPC not initialized. Is the runtime running?"'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cause"}),": Runtime not started"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),": Start runtime with ",(0,i.jsx)(n.code,{children:"chimaera_start_runtime"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:'Error: "Failed to load OMNI file"'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cause"}),": Invalid YAML syntax or missing file"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),": Verify file exists and has valid YAML syntax"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:'Error: "ParseOmni failed with result code N"'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cause"}),": CAE runtime encountered an error processing transfers"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),": Check runtime logs for details"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"loading-omni-files-in-c-code",children:"Loading OMNI Files in C++ Code"}),"\n",(0,i.jsxs)(n.p,{children:["For programmatic access, use the ",(0,i.jsx)(n.code,{children:"LoadOmni"})," function to parse an OMNI file:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'#include <wrp_cae/core/factory/assimilation_ctx.h>\n#include <yaml-cpp/yaml.h>\n#include <vector>\n\nstd::vector<wrp_cae::core::AssimilationCtx> LoadOmni(const std::string& omni_path);\n\n// Usage\ntry {\n  auto contexts = LoadOmni("/path/to/config.yaml");\n  // Pass to ParseOmni\n  cae_client.ParseOmni(HSHM_MCTX, contexts, num_tasks_scheduled);\n} catch (const std::exception& e) {\n  std::cerr << "Failed to load OMNI: " << e.what() << std::endl;\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"processing-omni-files",children:"Processing OMNI Files"}),"\n",(0,i.jsx)(n.p,{children:"The CAE runtime processes OMNI files through the following pipeline:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Parse YAML"})," - Load and validate the OMNI file structure"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Create Contexts"})," - Convert each transfer into an ",(0,i.jsx)(n.code,{children:"AssimilationCtx"})," object"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Serialize"})," - Transparently serialize contexts using cereal"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Submit Task"})," - Send ",(0,i.jsx)(n.code,{children:"ParseOmniTask"})," to the CAE runtime"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Deserialize"})," - Runtime deserializes the contexts vector"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Schedule"})," - For each context:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Determine assimilator based on source URI scheme"}),"\n",(0,i.jsx)(n.li,{children:"Schedule the transfer operation"}),"\n",(0,i.jsx)(n.li,{children:"Handle dependencies and ordering"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"uri-scheme-reference",children:"URI Scheme Reference"}),"\n",(0,i.jsxs)(n.h3,{id:"file-uris-filepath",children:["File URIs: ",(0,i.jsx)(n.code,{children:"file::<path>"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": Local filesystem access"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Path"}),": Absolute or relative file path"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Example"}),": ",(0,i.jsx)(n.code,{children:"file::/tmp/data.bin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"hdf5-uris-hdf5file_pathdataset_path",children:["HDF5 URIs: ",(0,i.jsx)(n.code,{children:"hdf5://<file_path>:<dataset_path>"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": HDF5 hierarchical data format"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"File Path"}),": Path to the .h5 file"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Dataset Path"}),": Internal HDF5 dataset path"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Example"}),": ",(0,i.jsx)(n.code,{children:"hdf5::/data/climate.h5:/temperature/surface"})]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"globus-uris-globusendpoint_idpath",children:["Globus URIs: ",(0,i.jsx)(n.code,{children:"globus://<endpoint_id>/<path>"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": Globus data transfer service"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Endpoint ID"}),": UUID of the Globus endpoint"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Path"}),": File path on the endpoint"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Example"}),": ",(0,i.jsx)(n.code,{children:"globus://82f1b5c6-6e9b-11e5-ba47-22000b92c6ec/data/file.nc"})]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"iowarp-uris-iowarptag_name",children:["IOWarp URIs: ",(0,i.jsx)(n.code,{children:"iowarp::<tag_name>"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": CTE tag-based storage"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tag Name"}),": Unique identifier for the data in CTE"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Example"}),": ",(0,i.jsx)(n.code,{children:"iowarp::my_data_tag_2024"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"validation-rules",children:"Validation Rules"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"LoadOmni"})," function validates:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"File exists and is valid YAML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsxs)(n.strong,{children:["Required field ",(0,i.jsx)(n.code,{children:"transfers"})," is present and is an array"]})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Each transfer has required fields"}),": ",(0,i.jsx)(n.code,{children:"src"}),", ",(0,i.jsx)(n.code,{children:"dst"}),", ",(0,i.jsx)(n.code,{children:"format"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Field types are correct"}),": strings for URIs, integers for offsets/sizes"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Optional fields have valid defaults"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,i.jsx)(n.p,{children:"Common errors and their meanings:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Error"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Solution"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"OMNI file missing required 'transfers' key"})}),(0,i.jsxs)(n.td,{children:["No ",(0,i.jsx)(n.code,{children:"transfers"})," array in YAML"]}),(0,i.jsxs)(n.td,{children:["Add ",(0,i.jsx)(n.code,{children:"transfers:"})," section"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Transfer N missing required 'src' field"})}),(0,i.jsx)(n.td,{children:"Missing source URI"}),(0,i.jsxs)(n.td,{children:["Add ",(0,i.jsx)(n.code,{children:"src:"})," to transfer N"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Transfer N missing required 'dst' field"})}),(0,i.jsx)(n.td,{children:"Missing destination URI"}),(0,i.jsxs)(n.td,{children:["Add ",(0,i.jsx)(n.code,{children:"dst:"})," to transfer N"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Transfer N missing required 'format' field"})}),(0,i.jsx)(n.td,{children:"Missing format specification"}),(0,i.jsxs)(n.td,{children:["Add ",(0,i.jsx)(n.code,{children:"format:"})," to transfer N"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Failed to load OMNI file: <error>"})}),(0,i.jsx)(n.td,{children:"YAML parsing error"}),(0,i.jsx)(n.td,{children:"Check YAML syntax"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use descriptive names"}),": Choose meaningful job and tag names"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Specify dependencies"}),": Use ",(0,i.jsx)(n.code,{children:"depends_on"})," for ordered transfers"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Handle ranges carefully"}),": Ensure ",(0,i.jsx)(n.code,{children:"range_off + range_size"})," doesn't exceed file size"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Validate URIs"}),": Ensure source files exist before submitting"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use consistent formats"}),": Match the ",(0,i.jsx)(n.code,{children:"format"})," field to the actual data type"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Document transfers"}),": Add YAML comments to explain complex configurations"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"future-extensions",children:"Future Extensions"}),"\n",(0,i.jsx)(n.p,{children:"Planned enhancements to the OMNI format:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Metadata fields"}),": Custom key-value pairs for transfer metadata"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Compression options"}),": Specify compression algorithms"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Retry policies"}),": Configure retry behavior for failed transfers"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Notifications"}),": Callbacks or webhooks on completion"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Transforms"}),": Data transformation pipelines"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"launch.md",children:"CAE Launch Guide"})," - How to launch CAE using chimaera_compose"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../cte/config.md",children:"CTE Configuration"})," - CTE storage configuration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../runtime/module_dev_guide.md",children:"Chimaera Compose"})," - Compose configuration format"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../runtime/module_dev_guide.md",children:"Module Development Guide"})," - ChiMod development"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Last Updated"}),": 2025-11-09\n",(0,i.jsx)(n.strong,{children:"Version"}),": 2.0.0"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>d});var r=s(6540);const i={},l=r.createContext(i);function t(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);