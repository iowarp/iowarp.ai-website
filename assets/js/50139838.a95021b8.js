"use strict";(globalThis.webpackChunkiowarp_site=globalThis.webpackChunkiowarp_site||[]).push([[2326],{5622:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>x,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"api/python-api","title":"Context Exploration Engine - Python API Documentation","description":"Overview","source":"@site/docs/api/python-api.md","sourceDirName":"api","slug":"/api/python-api","permalink":"/docs/api/python-api","draft":false,"unlisted":false,"editUrl":"https://github.com/iowarp/iowarp.github.io/tree/main/docs/api/python-api.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Context Assimilation SDK","permalink":"/docs/sdk/context_assimilation"},"next":{"title":"Storage API","permalink":"/docs/api/storage"}}');var i=t(4848),r=t(8453);const l={},c="Context Exploration Engine - Python API Documentation",o={},a=[{value:"Overview",id:"overview",level:2},{value:"Import",id:"import",level:2},{value:"Module: <code>wrp_cee</code>",id:"module-wrp_cee",level:2},{value:"Class: <code>AssimilationCtx</code>",id:"class-assimilationctx",level:2},{value:"Constructors",id:"constructors",level:3},{value:"Default Constructor",id:"default-constructor",level:4},{value:"Full Constructor",id:"full-constructor",level:4},{value:"Attributes",id:"attributes",level:3},{value:"String Representation",id:"string-representation",level:3},{value:"Example Usage",id:"example-usage",level:3},{value:"Class: <code>ContextInterface</code>",id:"class-contextinterface",level:2},{value:"Constructor",id:"constructor",level:3},{value:"Methods",id:"methods",level:3},{value:"<code>context_bundle(bundle)</code>",id:"context_bundlebundle",level:4},{value:"<code>context_query(tag_re, blob_re, max_results=0)</code>",id:"context_querytag_re-blob_re-max_results0",level:4},{value:"<code>context_retrieve(tag_re, blob_re, max_results=1024, max_context_size=268435456, batch_size=32)</code>",id:"context_retrievetag_re-blob_re-max_results1024-max_context_size268435456-batch_size32",level:4},{value:"<code>context_destroy(context_names)</code>",id:"context_destroycontext_names",level:4},{value:"Complete Example",id:"complete-example",level:2},{value:"URL Format Requirements",id:"url-format-requirements",level:2},{value:"Correct Format",id:"correct-format",level:3},{value:"Incorrect Format",id:"incorrect-format",level:3},{value:"Runtime Assumptions",id:"runtime-assumptions",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"See Also",id:"see-also",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"context-exploration-engine---python-api-documentation",children:"Context Exploration Engine - Python API Documentation"})}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:["The Context Exploration Engine (CEE) provides a high-level Python API for managing and exploring data contexts in IOWarp. The API is accessible through the ",(0,i.jsx)(n.code,{children:"wrp_cee"})," Python module and offers a simple interface for data assimilation, querying, retrieval, and cleanup operations."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Key Feature:"})," The CEE API automatically initializes the IOWarp runtime when you create a ",(0,i.jsx)(n.code,{children:"ContextInterface"})," instance. You don't need to manually initialize Chimaera, CTE, or CAE - the ",(0,i.jsx)(n.code,{children:"ContextInterface"})," constructor handles all of this internally."]}),"\n",(0,i.jsx)(n.h2,{id:"import",children:"Import"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import wrp_cee\nprint("CEE API loaded successfully!")\n'})}),"\n",(0,i.jsxs)(n.h2,{id:"module-wrp_cee",children:["Module: ",(0,i.jsx)(n.code,{children:"wrp_cee"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"wrp_cee"})," module provides two main classes:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"AssimilationCtx"})})," - Configuration for data assimilation operations"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"ContextInterface"})})," - Main API for context management"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"class-assimilationctx",children:["Class: ",(0,i.jsx)(n.code,{children:"AssimilationCtx"})]}),"\n",(0,i.jsx)(n.p,{children:"Configuration object that defines how data should be assimilated into IOWarp."}),"\n",(0,i.jsx)(n.h3,{id:"constructors",children:"Constructors"}),"\n",(0,i.jsx)(n.h4,{id:"default-constructor",children:"Default Constructor"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"ctx = wrp_cee.AssimilationCtx()\n"})}),"\n",(0,i.jsx)(n.p,{children:"Creates an empty AssimilationCtx with default values."}),"\n",(0,i.jsx)(n.h4,{id:"full-constructor",children:"Full Constructor"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'ctx = wrp_cee.AssimilationCtx(\n    src="file::/path/to/source",\n    dst="iowarp::tag_name",\n    format="binary",\n    depends_on="",           # Optional\n    range_off=0,            # Optional\n    range_size=0,           # Optional\n    src_token="",           # Optional\n    dst_token=""            # Optional\n)\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"src"})})," (str): Source URL specifying where to read data from"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Format: ",(0,i.jsx)(n.code,{children:"protocol::path"})]}),"\n",(0,i.jsxs)(n.li,{children:["Examples: ",(0,i.jsx)(n.code,{children:"file::/tmp/data.bin"}),", ",(0,i.jsx)(n.code,{children:"globus::endpoint_id/path"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Note:"})," Use ",(0,i.jsx)(n.code,{children:"::"})," separator, not ",(0,i.jsx)(n.code,{children:"://"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"dst"})})," (str): Destination URL specifying where to store data in IOWarp"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Format: ",(0,i.jsx)(n.code,{children:"iowarp::tag_name"})]}),"\n",(0,i.jsxs)(n.li,{children:["Example: ",(0,i.jsx)(n.code,{children:"iowarp::my_dataset"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"format"})})," (str): Data format specification"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Supported values: ",(0,i.jsx)(n.code,{children:'"binary"'}),", ",(0,i.jsx)(n.code,{children:'"hdf5"'})]}),"\n",(0,i.jsxs)(n.li,{children:["Default: ",(0,i.jsx)(n.code,{children:'"binary"'})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"depends_on"})})," (str, optional): Dependency identifier for dependent operations"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Default: ",(0,i.jsx)(n.code,{children:'""'})," (no dependency)"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"range_off"})})," (int, optional): Byte offset in source file"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Useful for partial file assimilation"}),"\n",(0,i.jsxs)(n.li,{children:["Default: ",(0,i.jsx)(n.code,{children:"0"})," (start from beginning)"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"range_size"})})," (int, optional): Number of bytes to read"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Default: ",(0,i.jsx)(n.code,{children:"0"})," (read entire file)"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"src_token"})})," (str, optional): Authentication token for source"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Used for protected data sources"}),"\n",(0,i.jsxs)(n.li,{children:["Default: ",(0,i.jsx)(n.code,{children:'""'})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"dst_token"})})," (str, optional): Authentication token for destination"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Used for protected destinations"}),"\n",(0,i.jsxs)(n.li,{children:["Default: ",(0,i.jsx)(n.code,{children:'""'})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"attributes",children:"Attributes"}),"\n",(0,i.jsx)(n.p,{children:"All constructor parameters are accessible as read/write attributes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'ctx = wrp_cee.AssimilationCtx()\nctx.src = "file::/my/data.bin"\nctx.dst = "iowarp::dataset"\nctx.format = "binary"\nctx.range_off = 1024      # Skip first 1KB\nctx.range_size = 10485760  # Read 10MB\n'})}),"\n",(0,i.jsx)(n.h3,{id:"string-representation",children:"String Representation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"ctx = wrp_cee.AssimilationCtx(\n    src=\"file::/data.bin\",\n    dst=\"iowarp::tag\",\n    format=\"binary\"\n)\nprint(ctx)\n# Output: <AssimilationCtx src='file::/data.bin' dst='iowarp::tag' format='binary'>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-usage",children:"Example Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import wrp_cee as cee\n\n# Assimilate entire file\nctx1 = cee.AssimilationCtx(\n    src="file::/data/experiment1.bin",\n    dst="iowarp::experiment_data",\n    format="binary"\n)\n\n# Assimilate partial file (10MB starting at 1MB offset)\nctx2 = cee.AssimilationCtx(\n    src="file::/large_dataset.bin",\n    dst="iowarp::dataset_chunk1",\n    format="binary",\n    range_off=1048576,      # 1MB offset\n    range_size=10485760     # 10MB size\n)\n\n# Assimilate HDF5 file\nctx3 = cee.AssimilationCtx(\n    src="file::/simulation.h5",\n    dst="iowarp::simulation_results",\n    format="hdf5"\n)\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"class-contextinterface",children:["Class: ",(0,i.jsx)(n.code,{children:"ContextInterface"})]}),"\n",(0,i.jsx)(n.p,{children:"Main API for context exploration and management operations."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Important:"})," The ",(0,i.jsx)(n.code,{children:"ContextInterface"})," constructor automatically initializes the IOWarp runtime (Chimaera + CTE + CAE). This initialization happens once when you create the first ",(0,i.jsx)(n.code,{children:"ContextInterface"})," instance. Subsequent instances will use the already-initialized runtime."]}),"\n",(0,i.jsx)(n.h3,{id:"constructor",children:"Constructor"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"ctx_interface = wrp_cee.ContextInterface()\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Parameters:"})," None"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Automatically initializes CAE client (which in turn initializes CTE and Chimaera)"}),"\n",(0,i.jsx)(n.li,{children:"Verifies Chimaera IPC is available"}),"\n",(0,i.jsxs)(n.li,{children:["Sets ",(0,i.jsx)(n.code,{children:"is_initialized_"})," flag on success"]}),"\n",(0,i.jsxs)(n.li,{children:["Assumes runtime configuration is already set via environment variables (e.g., ",(0,i.jsx)(n.code,{children:"CHI_SERVER_CONF"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Typical Environment Setup:"})}),"\n",(0,i.jsx)(n.p,{children:"The runtime needs to know where to find its configuration. This is typically set via environment variable:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export CHI_SERVER_CONF=/path/to/config.yaml\n"})}),"\n",(0,i.jsx)(n.p,{children:"Or in Python:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import os\nos.environ['CHI_SERVER_CONF'] = '/path/to/config.yaml'\n\nimport wrp_cee\nctx_interface = wrp_cee.ContextInterface()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"context_bundlebundle",children:(0,i.jsx)(n.code,{children:"context_bundle(bundle)"})}),"\n",(0,i.jsx)(n.p,{children:"Assimilate a group of objects into IOWarp."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Signature:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"result = ctx_interface.context_bundle(bundle)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"bundle"})})," (List[AssimilationCtx]): List of AssimilationCtx objects to assimilate"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"int"}),": ",(0,i.jsx)(n.code,{children:"0"})," on success, non-zero error code on failure"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description:"})}),"\n",(0,i.jsxs)(n.p,{children:["Assimilates one or more data objects into IOWarp. Each ",(0,i.jsx)(n.code,{children:"AssimilationCtx"})," in the bundle describes a source file/dataset to assimilate and where to store it. The method calls the CAE's ",(0,i.jsx)(n.code,{children:"ParseOmni"})," function which schedules assimilation tasks for each context."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import wrp_cee as cee\n\n# Create interface\nctx_interface = cee.ContextInterface()\n\n# Define files to assimilate\ncontexts = [\n    cee.AssimilationCtx(\n        src="file::/data/file1.bin",\n        dst="iowarp::dataset",\n        format="binary"\n    ),\n    cee.AssimilationCtx(\n        src="file::/data/file2.bin",\n        dst="iowarp::dataset",\n        format="binary"\n    ),\n]\n\n# Assimilate all files\nresult = ctx_interface.context_bundle(contexts)\nif result == 0:\n    print("Success!")\nelse:\n    print(f"Failed with code: {result}")\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"context_querytag_re-blob_re-max_results0",children:(0,i.jsx)(n.code,{children:"context_query(tag_re, blob_re, max_results=0)"})}),"\n",(0,i.jsx)(n.p,{children:"Query for blob names matching tag and blob patterns."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Signature:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"blob_names = ctx_interface.context_query(tag_re, blob_re, max_results=0)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"tag_re"})})," (str): Regular expression pattern to match tag names"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"blob_re"})})," (str): Regular expression pattern to match blob names"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"max_results"})})," (int, optional): Maximum number of results to return","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0"})," = unlimited (default)"]}),"\n",(0,i.jsx)(n.li,{children:"Positive integer = limit to that many results"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"List[str]"}),": List of matching blob names (empty list if none found)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description:"})}),"\n",(0,i.jsxs)(n.p,{children:["Queries the CTE system for blobs matching the specified regex patterns. Uses ",(0,i.jsx)(n.code,{children:"BlobQuery"})," with ",(0,i.jsx)(n.code,{children:"Broadcast"})," pool query to search across all nodes. Returns only the blob names, not the data."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Query all blobs in a specific tag\nblobs = ctx_interface.context_query("experiment_data", ".*", 0)\nprint(f"Found {len(blobs)} blobs: {blobs}")\n\n# Query blobs matching a pattern, limit to 10 results\nblobs = ctx_interface.context_query("dataset.*", "chunk_[0-9]+", 10)\nprint(f"Found {len(blobs)} matching blobs")\n\n# Query specific blob name\nblobs = ctx_interface.context_query("my_tag", "exact_blob_name", 0)\nif blobs:\n    print("Blob exists!")\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"context_retrievetag_re-blob_re-max_results1024-max_context_size268435456-batch_size32",children:(0,i.jsx)(n.code,{children:"context_retrieve(tag_re, blob_re, max_results=1024, max_context_size=268435456, batch_size=32)"})}),"\n",(0,i.jsx)(n.p,{children:"Retrieve blob data matching patterns into packed binary context."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Signature:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"packed_data = ctx_interface.context_retrieve(\n    tag_re,\n    blob_re,\n    max_results=1024,\n    max_context_size=256*1024*1024,\n    batch_size=32\n)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"tag_re"})})," (str): Regular expression pattern to match tag names"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"blob_re"})})," (str): Regular expression pattern to match blob names"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"max_results"})})," (int, optional): Maximum number of blobs to retrieve","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0"})," = unlimited"]}),"\n",(0,i.jsxs)(n.li,{children:["Default: ",(0,i.jsx)(n.code,{children:"1024"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"max_context_size"})})," (int, optional): Maximum total context size in bytes","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Default: ",(0,i.jsx)(n.code,{children:"268435456"})," (256MB)"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"batch_size"})})," (int, optional): Number of concurrent ",(0,i.jsx)(n.code,{children:"AsyncGetBlob"})," operations","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Controls parallelism"}),"\n",(0,i.jsxs)(n.li,{children:["Default: ",(0,i.jsx)(n.code,{children:"32"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"List[str]"}),": List containing one string with packed binary context data","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Returns empty list if no data found or error occurred"}),"\n",(0,i.jsx)(n.li,{children:"The string contains raw binary data (concatenated blob contents)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description:"})}),"\n",(0,i.jsx)(n.p,{children:"Retrieves blob data matching the specified patterns and packs it into a single binary buffer. The method:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Uses ",(0,i.jsx)(n.code,{children:"BlobQuery"})," to find matching blobs"]}),"\n",(0,i.jsxs)(n.li,{children:["Allocates a buffer of size ",(0,i.jsx)(n.code,{children:"max_context_size"})]}),"\n",(0,i.jsxs)(n.li,{children:["Retrieves blobs in batches using ",(0,i.jsx)(n.code,{children:"AsyncGetBlob"})]}),"\n",(0,i.jsx)(n.li,{children:"Packs data sequentially into the buffer"}),"\n",(0,i.jsx)(n.li,{children:"Returns the packed data as a string"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Blobs are processed in batches for efficiency. The buffer is automatically allocated and freed."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Retrieve all blobs from a tag (using defaults)\npacked_data = ctx_interface.context_retrieve("my_tag", ".*")\nif packed_data:\n    print(f"Retrieved {len(packed_data[0])} bytes")\n\n# Retrieve with custom limits\npacked_data = ctx_interface.context_retrieve(\n    tag_re="dataset.*",\n    blob_re="chunk_.*",\n    max_results=100,           # Limit to 100 blobs\n    max_context_size=100*1024*1024,  # 100MB total\n    batch_size=64              # 64 concurrent operations\n)\n\n# Process retrieved data\nif packed_data and len(packed_data) > 0:\n    binary_data = packed_data[0]\n    # binary_data is raw bytes containing concatenated blob contents\n    print(f"Total data: {len(binary_data):,} bytes")\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Data is packed sequentially (blob1 + blob2 + blob3...)"}),"\n",(0,i.jsx)(n.li,{children:"No delimiters or metadata between blobs"}),"\n",(0,i.jsx)(n.li,{children:"Retrieval stops when buffer is full or all blobs retrieved"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"context_destroycontext_names",children:(0,i.jsx)(n.code,{children:"context_destroy(context_names)"})}),"\n",(0,i.jsx)(n.p,{children:"Destroy contexts (tags) by name."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Signature:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"result = ctx_interface.context_destroy(context_names)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"context_names"})})," (List[str]): List of context (tag) names to destroy"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"int"}),": ",(0,i.jsx)(n.code,{children:"0"})," on success, non-zero on failure"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description:"})}),"\n",(0,i.jsxs)(n.p,{children:["Deletes the specified contexts from the CTE system. Each context name is treated as a tag name and deleted using CTE's ",(0,i.jsx)(n.code,{children:"DelTag"})," API. This operation removes the tag and all associated blobs."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Delete single context\nresult = ctx_interface.context_destroy(["my_tag"])\n\n# Delete multiple contexts\nresult = ctx_interface.context_destroy([\n    "experiment1_data",\n    "experiment2_data",\n    "temp_results"\n])\n\nif result == 0:\n    print("All contexts destroyed successfully")\nelse:\n    print(f"Failed to destroy contexts: {result}")\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'#!/usr/bin/env python3\n"""Complete CEE API example"""\n\nimport wrp_cee as cee\nimport os\nimport tempfile\n\n# Create test file\ntest_file = os.path.join(tempfile.gettempdir(), "test_data.bin")\nwith open(test_file, \'wb\') as f:\n    f.write(b"Hello, IOWarp!" * 1000)\n\ntry:\n    # Initialize interface (handles runtime init)\n    ctx_interface = cee.ContextInterface()\n\n    # 1. Assimilate file\n    ctx = cee.AssimilationCtx(\n        src=f"file::{test_file}",\n        dst="iowarp::demo_tag",\n        format="binary"\n    )\n    result = ctx_interface.context_bundle([ctx])\n    print(f"Assimilation: {\'Success\' if result == 0 else \'Failed\'}")\n\n    # 2. Query for blobs\n    blobs = ctx_interface.context_query("demo_tag", ".*", 0)\n    print(f"Found {len(blobs)} blobs: {blobs}")\n\n    # 3. Retrieve blob data\n    data = ctx_interface.context_retrieve("demo_tag", ".*")\n    if data:\n        print(f"Retrieved {len(data[0]):,} bytes")\n\n    # 4. Clean up\n    result = ctx_interface.context_destroy(["demo_tag"])\n    print(f"Cleanup: {\'Success\' if result == 0 else \'Failed\'}")\n\nfinally:\n    # Remove test file\n    if os.path.exists(test_file):\n        os.remove(test_file)\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"url-format-requirements",children:"URL Format Requirements"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Important:"})," IOWarp uses ",(0,i.jsx)(n.code,{children:"::"})," as the URL separator, ",(0,i.jsx)(n.strong,{children:"NOT"})," ",(0,i.jsx)(n.code,{children:"://"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"correct-format",children:"Correct Format"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'src="file::/path/to/file.bin"\ndst="iowarp::my_tag"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"incorrect-format",children:"Incorrect Format"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'src="file:///path/to/file.bin"    # Wrong! Don\'t use ://\ndst="iowarp://my_tag"              # Wrong! Don\'t use ://\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"runtime-assumptions",children:"Runtime Assumptions"}),"\n",(0,i.jsx)(n.p,{children:"The CEE Python API assumes:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Runtime is Started:"})," The IOWarp runtime (Chimaera server) should be running, or will be started by the ",(0,i.jsx)(n.code,{children:"ContextInterface"})," constructor."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Configuration Available:"})," Runtime configuration is available via environment variable:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export CHI_SERVER_CONF=/path/to/config.yaml\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Proper Permissions:"})," Your Python process has permission to access shared memory segments and connect to the runtime."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Dependencies Initialized:"})," When you create a ",(0,i.jsx)(n.code,{children:"ContextInterface"}),", it will:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Initialize CAE client"}),"\n",(0,i.jsx)(n.li,{children:"Initialize CTE client (via CAE)"}),"\n",(0,i.jsx)(n.li,{children:"Initialize Chimaera client (via CTE)"}),"\n",(0,i.jsx)(n.li,{children:"Verify IPC manager is available"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,i.jsx)(n.p,{children:"Methods return error codes or empty results on failure:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# context_bundle returns int\nresult = ctx_interface.context_bundle([ctx])\nif result != 0:\n    print(f"Error code: {result}")\n\n# context_query returns empty list on error\nblobs = ctx_interface.context_query("tag", ".*")\nif not blobs:\n    print("No blobs found or error occurred")\n\n# context_retrieve returns empty list on error\ndata = ctx_interface.context_retrieve("tag", ".*")\nif not data:\n    print("No data retrieved or error occurred")\n\n# context_destroy returns int\nresult = ctx_interface.context_destroy(["tag"])\nif result != 0:\n    print(f"Error code: {result}")\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"C++ API Documentation:"})," ",(0,i.jsx)(n.code,{children:"context-exploration-engine/api/include/wrp_cee/api/context_interface.h"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Unit Tests:"})," ",(0,i.jsx)(n.code,{children:"context-exploration-engine/api/test/test_context_interface.py"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Demo Script:"})," ",(0,i.jsx)(n.code,{children:"context-exploration-engine/api/demo/simple_assimilation_demo.py"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"CTE Documentation:"})," ",(0,i.jsx)(n.code,{children:"context-transfer-engine/docs/cte/cte.md"})]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>c});var s=t(6540);const i={},r=s.createContext(i);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);